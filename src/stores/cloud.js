import { rnd } from '@/util/util'
import { defineStore } from 'pinia'

export const useCloudStore = defineStore('cloud', () => {
  const paths = [
    'M0,245L34.3,212.3C68.6,180,137,114,206,138.8C274.3,163,343,278,411,318.5C480,359,549,327,617,277.7C685.7,229,754,163,823,122.5C891.4,82,960,65,1029,122.5C1097.1,180,1166,310,1234,351.2C1302.9,392,1371,343,1440,294C1508.6,245,1577,196,1646,171.5C1714.3,147,1783,147,1851,122.5C1920,98,1989,49,2057,81.7C2125.7,114,2194,229,2263,236.8C2331.4,245,2400,147,2469,106.2C2537.1,65,2606,82,2674,122.5C2742.9,163,2811,229,2880,261.3C2948.6,294,3017,294,3086,285.8C3154.3,278,3223,261,3291,212.3C3360,163,3429,82,3497,98C3565.7,114,3634,229,3703,285.8C3771.4,343,3840,343,3909,310.3C3977.1,278,4046,212,4114,204.2C4182.9,196,4251,245,4320,228.7C4388.6,212,4457,131,4526,98C4594.3,65,4663,82,4731,81.7C4800,82,4869,65,4903,57.2L4937.1,49L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,441L34.3,392C68.6,343,137,245,206,236.8C274.3,229,343,310,411,326.7C480,343,549,294,617,236.8C685.7,180,754,114,823,138.8C891.4,163,960,278,1029,310.3C1097.1,343,1166,294,1234,294C1302.9,294,1371,343,1440,359.3C1508.6,376,1577,359,1646,334.8C1714.3,310,1783,278,1851,245C1920,212,1989,180,2057,187.8C2125.7,196,2194,245,2263,228.7C2331.4,212,2400,131,2469,114.3C2537.1,98,2606,147,2674,187.8C2742.9,229,2811,261,2880,228.7C2948.6,196,3017,98,3086,49C3154.3,0,3223,0,3291,73.5C3360,147,3429,294,3497,302.2C3565.7,310,3634,180,3703,155.2C3771.4,131,3840,212,3909,236.8C3977.1,261,4046,229,4114,253.2C4182.9,278,4251,359,4320,351.2C4388.6,343,4457,245,4526,179.7C4594.3,114,4663,82,4731,122.5C4800,163,4869,278,4903,334.8L4937.1,392L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,343L34.3,285.8C68.6,229,137,114,206,89.8C274.3,65,343,131,411,204.2C480,278,549,359,617,334.8C685.7,310,754,180,823,155.2C891.4,131,960,212,1029,220.5C1097.1,229,1166,163,1234,155.2C1302.9,147,1371,196,1440,212.3C1508.6,229,1577,212,1646,204.2C1714.3,196,1783,196,1851,204.2C1920,212,1989,229,2057,196C2125.7,163,2194,82,2263,114.3C2331.4,147,2400,294,2469,343C2537.1,392,2606,343,2674,277.7C2742.9,212,2811,131,2880,98C2948.6,65,3017,82,3086,81.7C3154.3,82,3223,65,3291,114.3C3360,163,3429,278,3497,318.5C3565.7,359,3634,327,3703,310.3C3771.4,294,3840,294,3909,318.5C3977.1,343,4046,392,4114,367.5C4182.9,343,4251,245,4320,196C4388.6,147,4457,147,4526,187.8C4594.3,229,4663,310,4731,343C4800,376,4869,359,4903,351.2L4937.1,343L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,147L34.3,171.5C68.6,196,137,245,206,220.5C274.3,196,343,98,411,122.5C480,147,549,294,617,351.2C685.7,408,754,376,823,318.5C891.4,261,960,180,1029,163.3C1097.1,147,1166,196,1234,187.8C1302.9,180,1371,114,1440,138.8C1508.6,163,1577,278,1646,326.7C1714.3,376,1783,359,1851,326.7C1920,294,1989,245,2057,261.3C2125.7,278,2194,359,2263,326.7C2331.4,294,2400,147,2469,73.5C2537.1,0,2606,0,2674,49C2742.9,98,2811,196,2880,196C2948.6,196,3017,98,3086,122.5C3154.3,147,3223,294,3291,367.5C3360,441,3429,441,3497,408.3C3565.7,376,3634,310,3703,245C3771.4,180,3840,114,3909,106.2C3977.1,98,4046,147,4114,204.2C4182.9,261,4251,327,4320,334.8C4388.6,343,4457,294,4526,253.2C4594.3,212,4663,180,4731,155.2C4800,131,4869,114,4903,106.2L4937.1,98L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,49L34.3,40.8C68.6,33,137,16,206,32.7C274.3,49,343,98,411,114.3C480,131,549,114,617,122.5C685.7,131,754,163,823,179.7C891.4,196,960,196,1029,187.8C1097.1,180,1166,163,1234,187.8C1302.9,212,1371,278,1440,269.5C1508.6,261,1577,180,1646,122.5C1714.3,65,1783,33,1851,73.5C1920,114,1989,229,2057,302.2C2125.7,376,2194,408,2263,416.5C2331.4,425,2400,408,2469,343C2537.1,278,2606,163,2674,106.2C2742.9,49,2811,49,2880,106.2C2948.6,163,3017,278,3086,302.2C3154.3,327,3223,261,3291,269.5C3360,278,3429,359,3497,343C3565.7,327,3634,212,3703,163.3C3771.4,114,3840,131,3909,130.7C3977.1,131,4046,114,4114,89.8C4182.9,65,4251,33,4320,49C4388.6,65,4457,131,4526,187.8C4594.3,245,4663,294,4731,261.3C4800,229,4869,114,4903,57.2L4937.1,0L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,294L34.3,261.3C68.6,229,137,163,206,122.5C274.3,82,343,65,411,81.7C480,98,549,147,617,179.7C685.7,212,754,229,823,245C891.4,261,960,278,1029,269.5C1097.1,261,1166,229,1234,228.7C1302.9,229,1371,261,1440,253.2C1508.6,245,1577,196,1646,179.7C1714.3,163,1783,180,1851,155.2C1920,131,1989,65,2057,106.2C2125.7,147,2194,294,2263,351.2C2331.4,408,2400,376,2469,318.5C2537.1,261,2606,180,2674,147C2742.9,114,2811,131,2880,138.8C2948.6,147,3017,147,3086,163.3C3154.3,180,3223,212,3291,187.8C3360,163,3429,82,3497,98C3565.7,114,3634,229,3703,245C3771.4,261,3840,180,3909,163.3C3977.1,147,4046,196,4114,253.2C4182.9,310,4251,376,4320,400.2C4388.6,425,4457,408,4526,375.7C4594.3,343,4663,294,4731,253.2C4800,212,4869,180,4903,163.3L4937.1,147L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,392L34.3,351.2C68.6,310,137,229,206,187.8C274.3,147,343,147,411,171.5C480,196,549,245,617,245C685.7,245,754,196,823,155.2C891.4,114,960,82,1029,81.7C1097.1,82,1166,114,1234,147C1302.9,180,1371,212,1440,220.5C1508.6,229,1577,212,1646,204.2C1714.3,196,1783,196,1851,171.5C1920,147,1989,98,2057,73.5C2125.7,49,2194,49,2263,49C2331.4,49,2400,49,2469,65.3C2537.1,82,2606,114,2674,106.2C2742.9,98,2811,49,2880,49C2948.6,49,3017,98,3086,147C3154.3,196,3223,245,3291,253.2C3360,261,3429,229,3497,187.8C3565.7,147,3634,98,3703,138.8C3771.4,180,3840,310,3909,375.7C3977.1,441,4046,441,4114,392C4182.9,343,4251,245,4320,187.8C4388.6,131,4457,114,4526,155.2C4594.3,196,4663,294,4731,310.3C4800,327,4869,261,4903,228.7L4937.1,196L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,245L34.3,269.5C68.6,294,137,343,206,375.7C274.3,408,343,425,411,375.7C480,327,549,212,617,212.3C685.7,212,754,327,823,334.8C891.4,343,960,245,1029,236.8C1097.1,229,1166,310,1234,326.7C1302.9,343,1371,294,1440,277.7C1508.6,261,1577,278,1646,302.2C1714.3,327,1783,359,1851,310.3C1920,261,1989,131,2057,130.7C2125.7,131,2194,261,2263,302.2C2331.4,343,2400,294,2469,302.2C2537.1,310,2606,376,2674,392C2742.9,408,2811,376,2880,375.7C2948.6,376,3017,408,3086,400.2C3154.3,392,3223,343,3291,269.5C3360,196,3429,98,3497,114.3C3565.7,131,3634,261,3703,334.8C3771.4,408,3840,425,3909,375.7C3977.1,327,4046,212,4114,163.3C4182.9,114,4251,131,4320,130.7C4388.6,131,4457,114,4526,138.8C4594.3,163,4663,229,4731,228.7C4800,229,4869,163,4903,130.7L4937.1,98L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,0L34.3,73.5C68.6,147,137,294,206,318.5C274.3,343,343,245,411,212.3C480,180,549,212,617,253.2C685.7,294,754,343,823,367.5C891.4,392,960,392,1029,375.7C1097.1,359,1166,327,1234,285.8C1302.9,245,1371,196,1440,155.2C1508.6,114,1577,82,1646,57.2C1714.3,33,1783,16,1851,32.7C1920,49,1989,98,2057,155.2C2125.7,212,2194,278,2263,253.2C2331.4,229,2400,114,2469,81.7C2537.1,49,2606,98,2674,147C2742.9,196,2811,245,2880,294C2948.6,343,3017,392,3086,416.5C3154.3,441,3223,441,3291,367.5C3360,294,3429,147,3497,114.3C3565.7,82,3634,163,3703,179.7C3771.4,196,3840,147,3909,171.5C3977.1,196,4046,294,4114,334.8C4182.9,376,4251,359,4320,334.8C4388.6,310,4457,278,4526,245C4594.3,212,4663,180,4731,204.2C4800,229,4869,310,4903,351.2L4937.1,392L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,196L34.3,187.8C68.6,180,137,163,206,204.2C274.3,245,343,343,411,375.7C480,408,549,376,617,359.3C685.7,343,754,343,823,351.2C891.4,359,960,376,1029,351.2C1097.1,327,1166,261,1234,220.5C1302.9,180,1371,163,1440,147C1508.6,131,1577,114,1646,155.2C1714.3,196,1783,294,1851,277.7C1920,261,1989,131,2057,81.7C2125.7,33,2194,65,2263,73.5C2331.4,82,2400,65,2469,114.3C2537.1,163,2606,278,2674,302.2C2742.9,327,2811,261,2880,269.5C2948.6,278,3017,359,3086,326.7C3154.3,294,3223,147,3291,106.2C3360,65,3429,131,3497,147C3565.7,163,3634,131,3703,114.3C3771.4,98,3840,98,3909,106.2C3977.1,114,4046,131,4114,163.3C4182.9,196,4251,245,4320,220.5C4388.6,196,4457,98,4526,49C4594.3,0,4663,0,4731,32.7C4800,65,4869,131,4903,163.3L4937.1,196L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
    'M0,49L34.3,73.5C68.6,98,137,147,206,187.8C274.3,229,343,261,411,261.3C480,261,549,229,617,220.5C685.7,212,754,229,823,196C891.4,163,960,82,1029,81.7C1097.1,82,1166,163,1234,179.7C1302.9,196,1371,147,1440,122.5C1508.6,98,1577,98,1646,89.8C1714.3,82,1783,65,1851,106.2C1920,147,1989,245,2057,277.7C2125.7,310,2194,278,2263,253.2C2331.4,229,2400,212,2469,228.7C2537.1,245,2606,294,2674,294C2742.9,294,2811,245,2880,253.2C2948.6,261,3017,327,3086,310.3C3154.3,294,3223,196,3291,163.3C3360,131,3429,163,3497,196C3565.7,229,3634,261,3703,261.3C3771.4,261,3840,229,3909,196C3977.1,163,4046,131,4114,130.7C4182.9,131,4251,163,4320,171.5C4388.6,180,4457,163,4526,187.8C4594.3,212,4663,278,4731,318.5C4800,359,4869,376,4903,383.8L4937.1,392L4937.1,490L4902.9,490C4868.6,490,4800,490,4731,490C4662.9,490,4594,490,4526,490C4457.1,490,4389,490,4320,490C4251.4,490,4183,490,4114,490C4045.7,490,3977,490,3909,490C3840,490,3771,490,3703,490C3634.3,490,3566,490,3497,490C3428.6,490,3360,490,3291,490C3222.9,490,3154,490,3086,490C3017.1,490,2949,490,2880,490C2811.4,490,2743,490,2674,490C2605.7,490,2537,490,2469,490C2400,490,2331,490,2263,490C2194.3,490,2126,490,2057,490C1988.6,490,1920,490,1851,490C1782.9,490,1714,490,1646,490C1577.1,490,1509,490,1440,490C1371.4,490,1303,490,1234,490C1165.7,490,1097,490,1029,490C960,490,891,490,823,490C754.3,490,686,490,617,490C548.6,490,480,490,411,490C342.9,490,274,490,206,490C137.1,490,69,490,34,490L0,490Z',
  ]

  const used = []

  const rndIndex = () => Math.floor(Math.random() * paths.length)

  function getPath() {
    let index = rndIndex()
    while (used.includes(index)) index = rndIndex()
    return paths[index]
  }

  function setAnimation($path) {
    $path.animate(
      [
        { d: `path("${$path.getAttribute('d')}")` },
        { d: `path("${getPath()}")` },
      ],
      {
        duration: rnd(10, 20) * 1000,
        iterations: Infinity,
        direction: 'alternate-reverse',
      },
    )
  }

  return { getPath, setAnimation }
})
